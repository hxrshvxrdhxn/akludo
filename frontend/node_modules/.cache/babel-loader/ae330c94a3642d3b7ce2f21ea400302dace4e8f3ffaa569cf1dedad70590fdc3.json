{"ast":null,"code":"import { call, put, takeEvery } from \"redux-saga/effects\";\nimport { storeToken, appLogout } from \"./actions\";\nimport '../types';\nimport { getLoginToken } from \"./api\";\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\nfunction* getToken(action) {\n  try {\n    var _data$data$data;\n    const data = yield call(getLoginToken, action.payload);\n    cookies.set('token', (_data$data$data = data.data.data) === null || _data$data$data === void 0 ? void 0 : _data$data$data.token);\n    //console.log(\"hitlogin\",data.data.data?.token);\n    if (data.data.error) {\n      //console.log(\"log in error\",data.data.error)\n      //yield put(storeError({error: data.data.error}));\n    } else {\n      yield put(storeToken({\n        token: data.data.data.token,\n        phone_number: action.payload.phone_number\n      }));\n    }\n  } catch (e) {\n    //console.log(e);\n  }\n}\nfunction* getTokenForgotMpin(action) {\n  try {\n    cookies.set('token', action.payload.token);\n    //console.log(\"check my action man baby\",action.payload.token)\n    //console.log(action)\n    //console.log(\"teret teret teret\")\n    yield put(storeToken({\n      token: action.payload.token,\n      phone_number: action.payload.phone_number\n    }));\n  } catch (e) {\n    //console.log(e);\n  }\n}\nfunction* expireToken(action) {\n  try {\n    // do api call\n    // const data = yield call(getLoginToken);\n    // yield put(appLogout());\n  } catch (e) {\n    //console.log(e);\n  }\n}","map":{"version":3,"names":["call","put","takeEvery","storeToken","appLogout","getLoginToken","Cookies","cookies","getToken","action","_data$data$data","data","payload","set","token","error","phone_number","e","getTokenForgotMpin","expireToken"],"sources":["/home/codalien/akludo/src/store/modules/auth/sagas.js"],"sourcesContent":["import { call, put, takeEvery } from \"redux-saga/effects\";\nimport { storeToken, appLogout } from \"./actions\";\nimport {  } from '../types'\nimport { getLoginToken } from \"./api\";\nimport Cookies from 'universal-cookie';\n \nconst cookies = new Cookies();\n\nfunction* getToken(action) {\n    try {\n        const data = yield call(getLoginToken, action.payload);\n        cookies.set('token', data.data.data?.token);\n        //console.log(\"hitlogin\",data.data.data?.token);\n        if (data.data.error){\n            //console.log(\"log in error\",data.data.error)\n            //yield put(storeError({error: data.data.error}));\n        } else {\n            yield put(storeToken({token:data.data.data.token, phone_number: action.payload.phone_number}));\n        }\n    } catch (e) {\n        //console.log(e);\n    }\n}\n\nfunction* getTokenForgotMpin(action) {\n    try {\n        cookies.set('token', action.payload.token);\n        //console.log(\"check my action man baby\",action.payload.token)\n        //console.log(action)\n        //console.log(\"teret teret teret\")\n        yield put(storeToken({token:action.payload.token, phone_number: action.payload.phone_number}))\n    } catch (e) {\n        //console.log(e);\n    }\n}\n\nfunction* expireToken(action) {\n    try {\n        // do api call\n        // const data = yield call(getLoginToken);\n        // yield put(appLogout());\n    } catch (e) {\n        //console.log(e);\n    }\n}\n"],"mappings":"AAAA,SAASA,IAAI,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AACzD,SAASC,UAAU,EAAEC,SAAS,QAAQ,WAAW;AACjD,OAAiB,UAAU;AAC3B,SAASC,aAAa,QAAQ,OAAO;AACrC,OAAOC,OAAO,MAAM,kBAAkB;AAEtC,MAAMC,OAAO,GAAG,IAAID,OAAO,EAAE;AAE7B,UAAUE,QAAQA,CAACC,MAAM,EAAE;EACvB,IAAI;IAAA,IAAAC,eAAA;IACA,MAAMC,IAAI,GAAG,MAAMX,IAAI,CAACK,aAAa,EAAEI,MAAM,CAACG,OAAO,CAAC;IACtDL,OAAO,CAACM,GAAG,CAAC,OAAO,GAAAH,eAAA,GAAEC,IAAI,CAACA,IAAI,CAACA,IAAI,cAAAD,eAAA,uBAAdA,eAAA,CAAgBI,KAAK,CAAC;IAC3C;IACA,IAAIH,IAAI,CAACA,IAAI,CAACI,KAAK,EAAC;MAChB;MACA;IAAA,CACH,MAAM;MACH,MAAMd,GAAG,CAACE,UAAU,CAAC;QAACW,KAAK,EAACH,IAAI,CAACA,IAAI,CAACA,IAAI,CAACG,KAAK;QAAEE,YAAY,EAAEP,MAAM,CAACG,OAAO,CAACI;MAAY,CAAC,CAAC,CAAC;IAClG;EACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;IACR;EAAA;AAER;AAEA,UAAUC,kBAAkBA,CAACT,MAAM,EAAE;EACjC,IAAI;IACAF,OAAO,CAACM,GAAG,CAAC,OAAO,EAAEJ,MAAM,CAACG,OAAO,CAACE,KAAK,CAAC;IAC1C;IACA;IACA;IACA,MAAMb,GAAG,CAACE,UAAU,CAAC;MAACW,KAAK,EAACL,MAAM,CAACG,OAAO,CAACE,KAAK;MAAEE,YAAY,EAAEP,MAAM,CAACG,OAAO,CAACI;IAAY,CAAC,CAAC,CAAC;EAClG,CAAC,CAAC,OAAOC,CAAC,EAAE;IACR;EAAA;AAER;AAEA,UAAUE,WAAWA,CAACV,MAAM,EAAE;EAC1B,IAAI;IACA;IACA;IACA;EAAA,CACH,CAAC,OAAOQ,CAAC,EAAE;IACR;EAAA;AAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}